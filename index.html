<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>User Input</title>
    <style>
      .formBox {
        padding: 0.5rem 2rem;
      }
    </style>
  </head>
  <body>
    <form>
      <!-- user1 -->
      <div class="formBox">
        <label for="uName1">Name</label>
        <input type="text" id="uName1" placeholder="name" />
      </div>
      <div class="formBox">
        <label for="desc1">Description</label>
        <textarea type="text" id="desc1" placeholder="description"></textarea>
      </div>

      <div class="formBox">
        <input type="text" id="dummy1" />
      </div>
      <!-- user2 -->
      <div class="formBox">
        <label for="uName2">Name</label>
        <input type="text" id="uName2" placeholder="name" />
      </div>
      <div class="formBox">
        <label for="desc2">Description</label>
        <textarea type="text" id="desc2" placeholder="description"></textarea>
      </div>
      <div class="formBox">
        <input type="text" id="dummy2" />
      </div>

      <!-- user3 -->
      <div class="formBox">
        <label for="uName3">Name</label>
        <input type="text" id="uName3" placeholder="name" />
      </div>
      <div class="formBox">
        <label for="desc3">Description</label>
        <textarea type="text" id="desc3" placeholder="description"></textarea>
      </div>
      <div class="formBox">
        <input type="text" id="dummy3" />
      </div>
      <!-- user4 -->
      <div class="formBox">
        <label for="uName4">Name</label>
        <input type="text" id="uName4" placeholder="name" />
      </div>
      <div class="formBox">
        <label for="desc4">Description</label>
        <textarea type="text" id="desc4" placeholder="description"></textarea>
      </div>
      <div class="formBox">
        <input type="text" id="dummy4" />
      </div>
      <!-- user5 -->
      <div class="formBox">
        <label for="uName5">Name</label>
        <input type="text" id="uName5" placeholder="name" />
      </div>
      <div class="formBox">
        <label for="desc5">Description</label>
        <textarea type="text" id="desc5" placeholder="description"></textarea>
      </div>
      <div class="formBox">
        <input type="text" id="dummy4" />
      </div>
      <!-- end -->
      <!-- <div class="formBox">
            <button id="btn">Click to Add</button>
        </div> -->
      <div id="msg">
        <pre></pre>
      </div>
    </form>
    <script>
      let allData = [];

      const addData = () => {
        let uData1 = {
          id:1,
          name: document.getElementById("uName1").value,
          description: document.getElementById("desc1").value,
        };
        let uData2 = {
          id:2,
          name: document.getElementById("uName2").value,
          description: document.getElementById("desc2").value,
        };
        let uData3 = {
          id:3,
          name: document.getElementById("uName3").value,
          description: document.getElementById("desc3").value,
        };
        let uData4 = {
          id:4,
          name: document.getElementById("uName4").value,
          description: document.getElementById("desc4").value,
        };
        let uData5 = {
          id:5,
          name: document.getElementById("uName5").value,
          description: document.getElementById("desc5").value,
        };

        allData.push(uData1);
        allData.push(uData2);
        allData.push(uData3);
        allData.push(uData4);
        allData.push(uData5);
        //document.forms[0].reset();

        //for display purposes only
        console.warn("added", { allData });
        let pre = document.querySelector("#msg pre");
        pre.textContent = "\n" + JSON.stringify(allData, "\t", 2);

        //saving to localStorage
        localStorage.setItem("UserData", JSON.stringify(allData));
      };
      // document.addEventListener('DOMContentLoaded', ()=>{
      //     document.getElementById('btn').addEventListener('click', addData);

      // });
      //Timer...
      window.onload = function () {
        var x = 5;

        setInterval(function () {
          if (x <= 6 && x >= 1) {
            x--;
            if (x == 1) {
              x = 6;
            }
          }
        }, 1000);
        // Form Submitting after 5s
        var auto_refresh = setInterval(function () {
          allData = [];
          addData();
        }, 5000);
      };
    </script>
  </body>
</html>
